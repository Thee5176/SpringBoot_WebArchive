<div layout:fragment="main">
  <h1 th:text="${title}"></h1>
  <!--Add Bookmark Button-->
  <button
    class="btn btn-sm btn-dark ms-3"
    data-bs-toggle="modal"
    data-bs-target="#NewBookmarkModal"
    hx-get="bookmark/form"
    hx-trigger="click"
    hx-target="#addNewBookmarkModal"
    hx-swap="innerHTML"
  >
    +
  </button>

  <!--Detail Modal-->
  <div
    class="modal fade"
    id="DetailModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="DetailModalLabel"
    aria-modal="true"
  >
    <div class="modal-dialog" role="document">
      <div id="addDetailModal" class="modal-content">
        <!--form for HTMX insert modal-->
      </div>
    </div>
  </div>

  <!--New Bookmark Modal-->
  <div
    class="modal fade"
    id="NewBookmarkModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="NewBookmarkModalLabel"
    aria-modal="true"
  >
    <div class="modal-dialog" role="document">
      <div id="addNewBookmarkModal" class="modal-content">
        <!--form for HTMX insert modal-->
      </div>
    </div>
  </div>

  <!--New Tag Modal-->
  <div
    class="modal fade"
    id="NewTagModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="NewTagModalLabel"
    aria-modal="true"
  >
    <div class="modal-dialog" role="document">
      <div id="addNewTagModal" class="modal-content">
        <!--form for HTMX insert modal-->
      </div>
    </div>
  </div>

  <!-- Table -->
  <div class="table-responsive">
    <table class="table table-hover" id="bookmarksTable">
      <!--Table Head-->
      <thead class="table-light">
        <tr>
          <th>Website名</th>
          <th>
            <div class="d-flex align-items-center">
              <span class="me-2">タッグ</span>
              <!--Add Tag Button-->
              <button
                class="btn btn-sm btn-dark ms-3"
                data-bs-toggle="modal"
                data-bs-target="#NewTagModal"
                hx-get="tag/form"
                hx-trigger="click"
                hx-target="#addNewTagModal"
                hx-swap="innerHTML"
              >
                +
              </button>
            </div>
          </th>
          <th>詳細</th>
          <th>処理</th>
        </tr>
      </thead>
      <!--Table Body-->
      <tbody>
        <tr th:each="object : ${object_list}">
          <td>
            <a
              href="www.google.com"
              th:href="${object.url}"
              th:text="${object.name}"
              target="_blank"
              >Google</a
            >
          </td>
          <td th:text="${object.tag.name}">Search Engine</td>
          <td th:text="${object.description}">
            標準的に使われるサーチエンジンサイト
          </td>
          <td>
            <!--Bookmark Update Button-->
            <button
              class="btn btn-sm btn-warning ms-3"
              data-bs-toggle="modal"
              data-bs-target="#NewBookmarkModal"
              th:hx-get="'/bookmark/form/'+${object.id}"
              hx-trigger="click"
              hx-target="#addNewBookmarkModal"
              hx-swap="innerHTML"
            >
              更新
            </button>
            <!--Bookmark Detail Button-->
            <button
              class="btn btn-sm btn-primary ms-3"
              data-bs-toggle="modal"
              data-bs-target="#DetailModal"
              th:hx-get="'/bookmark/id/'+${object.id}"
              hx-trigger="click"
              hx-target="#addDetailModal"
              hx-swap="innerHTML"
            >
              詳細
            </button>
            <!--Bookmark Delete Button-->
            <a
              class="btn btn-sm btn-danger ms-3"
              th:href="'/bookmark/delete/' + ${object.id}"
            >
              削除
            </a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
